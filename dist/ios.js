!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.websdk=e():t.websdk=e()}(globalThis,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=25)}({0:function(t,e,o){"use strict";var n,i,r,c;Object.defineProperty(e,"__esModule",{value:!0}),e.kDefAppInfo=e.LocaleType=e.ThemeType=e.AppType=e.ClientType=void 0,function(t){t[t.Web=0]="Web",t[t.App=1]="App"}(n||(e.ClientType=n={})),function(t){t[t.None=0]="None",t[t.Pc=1]="Pc",t[t.Android=2]="Android",t[t.Ios=3]="Ios"}(i||(e.AppType=i={})),function(t){t.default="default",t.dark="dark"}(r||(e.ThemeType=r={})),function(t){t.enUS="en_US",t.zhCN="zh_CN"}(c||(e.LocaleType=c={})),e.kDefAppInfo={clientType:n.Web,appType:i.Pc,theme:r.default,locale:c.enUS,isTest:!1}},2:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWin=e.createIos=e.createAndroid=void 0;var n=o(0),i=function(){function t(t,e,o,i,r,c,a,s){void 0===o&&(o=n.ThemeType.default),void 0===i&&(i=n.LocaleType.enUS),void 0===r&&(r=!1),void 0===a&&(a=window.prompt.bind(window)),void 0===s&&(s=window.console),this.clientType=t,this.appType=e,this.theme=o,this.locale=i,this.isTest=r,this.salt=c,this.prompt=a,this.console=s,this._listeners={},this._handlers={},this.log("constructor","clientType=".concat(t," appType=").concat(e," theme=").concat(o," locale=").concat(i," salt=").concat(c," prompt=").concat(!!a))}return t.prototype.init=function(t){this.salt=t,this.log("init","salt=".concat(this.salt))},t.prototype.invoke=function(t,e,o){var n=void 0,i=this._handlers[t];if(i)try{var r=this.atob(e),c=o?r:r&&JSON.parse(r)||null;n=(i.apply(null,[c])||void 0)&&JSON.stringify(n)||void 0}catch(t){n=void 0}return this.log("invoke","handler=".concat(!!i," key=").concat(t," base64=").concat(e," packed=").concat(o," result=").concat(n)),n},t.prototype.emit=function(t,e,o){var n=this._listeners[t];if(n)try{var i=this.atob(e),r=o?i:i&&JSON.parse(i)||null;n.apply(null,[r])}catch(t){}this.log("emit","listener=".concat(!!n," key=").concat(t," base64=").concat(e," packed=").concat(o))},t.prototype.excute=function(t,e){return void 0===e&&(e={}),this.call(t,e)},t.prototype.on=function(t,e){this.log("on","key=".concat(t," listener=").concat(!!e)),this._listeners[t]=e},t.prototype.off=function(t){this.log("off","key=".concat(t)),delete this._listeners[t]},t.prototype.register=function(t,e){this.log("on","key=".concat(t," handler=").concat(!!e)),this._handlers[t]=e},t.prototype.isJosn=function(t){return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")},t.prototype.call=function(t,e){var o,n,i=void 0,r=void 0,c="",a=(null===(o=window.performance)||void 0===o?void 0:o.now())||0,s=!!this.prompt;if(this.prompt)try{c=JSON.stringify({key:t,params:e,salt:this.salt}),i=(r=this.prompt("webview://app?args="+c)||void 0)&&this.isJosn(r)?JSON.parse(r):r}catch(t){i=void 0}return a=(null===(n=window.performance)||void 0===n?void 0:n.now())||0-a,this.log("call","valided=".concat(s," key=").concat(t," args=").concat(c," data=").concat(r," result=").concat(!!i," lt=").concat(a)),i},t.prototype.atob=function(t){return(window.atob||function(t){for(var e=function(t){for(var e={},o=0,n=t.length;o<n;++o)e[t.charAt(o)]=o;return e}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o=String.fromCharCode,n=-1,i=0,r=[],c=t.replace(/\s|=/g,"");i<c.length;){var a=e[c.charAt(i)];switch(i%4){case 0:break;case 1:r.push(o(n<<2|a>>4));break;case 2:r.push(o((15&n)<<4|a>>2));break;case 3:r.push(o((3&n)<<6|a))}n=a,++i}return r.join("")})(t)},t.prototype.log=function(t,e){var o;void 0===e&&(e=""),null===(o=this.console)||void 0===o||o.log("Websdk.Win",t,e)},t}();e.createAndroid=function(){return new i(n.ClientType.App,n.AppType.Android)};e.createIos=function(){return new i(n.ClientType.App,n.AppType.Ios)};e.createWin=function(t,e,o,n,r,c,a){return new i(t,e,o,n,r,c,a)}},25:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2);(window||this).$Win=(0,n.createIos)()}})}));