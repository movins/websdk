!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.websdk=t():e.websdk=t()}(globalThis,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=24)}({0:function(e,t,o){"use strict";var n,r,i,c;Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleType=t.ThemeType=t.AppType=t.ClientType=void 0,function(e){e[e.Web=0]="Web",e[e.App=1]="App"}(n||(t.ClientType=n={})),function(e){e[e.Pc=0]="Pc",e[e.Android=1]="Android",e[e.Ios=2]="Ios"}(r||(t.AppType=r={})),function(e){e.default="default",e.dark="dark"}(i||(t.ThemeType=i={})),function(e){e.enUS="en_US",e.zhCN="zh_CN"}(c||(t.LocaleType=c={}))},2:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWin=t.createIos=t.createAndroid=void 0;var n=o(0),r=function(){function e(e,t,o,r,i,c,a){void 0===o&&(o=n.ThemeType.default),void 0===r&&(r=n.LocaleType.enUS),void 0===c&&(c=window.prompt),void 0===a&&(a=window.console),this.clientType=e,this.appType=t,this.theme=o,this.locale=r,this.salt=i,this.prompt=c,this.console=a,this._listeners={},this._handlers={},this.log("constructor","clientType=".concat(e," appType=").concat(t," theme=").concat(o," locale=").concat(r," salt=").concat(i," prompt=").concat(!!c))}return e.prototype.init=function(e){this.salt=e,this.log("init","salt=".concat(this.salt))},e.prototype.invoke=function(e,t,o){var n=void 0,r=this._handlers[e];if(r)try{var i=this.atob(t),c=o?i:i&&JSON.parse(i)||null;n=(r.apply(null,[c])||void 0)&&JSON.stringify(n)||void 0}catch(e){n=void 0}return this.log("invoke","handler=".concat(!!r," key=").concat(e," base64=").concat(t," packed=").concat(o," result=").concat(n)),n},e.prototype.emit=function(e,t,o){var n=this._listeners[e];if(n)try{var r=this.atob(t),i=o?r:r&&JSON.parse(r)||null;n.apply(null,[i])}catch(e){}this.log("emit","listener=".concat(!!n," key=").concat(e," base64=").concat(t," packed=").concat(o))},e.prototype.excute=function(e,t){return void 0===t&&(t={}),this.call(e,t)},e.prototype.on=function(e,t){this.log("on","key=".concat(e," listener=").concat(!!t)),this._listeners[e]=t},e.prototype.off=function(e){this.log("off","key=".concat(e)),delete this._listeners[e]},e.prototype.register=function(e,t){this.log("on","key=".concat(e," handler=").concat(!!t)),this._handlers[e]=t},e.prototype.call=function(e,t){var o,n,r=void 0,i=void 0,c="",a=(null===(o=window.performance)||void 0===o?void 0:o.now())||0;if(this.prompt)try{c=JSON.stringify({key:e,params:t,salt:this.salt}),i=this.prompt("webview://app?args="+c)||"{}",r=JSON.parse(i)}catch(e){r=void 0}return a=(null===(n=window.performance)||void 0===n?void 0:n.now())||0-a,this.log("call","key=".concat(e," args=").concat(c," result=").concat(!!r," lt=").concat(a)),r},e.prototype.atob=function(e){return(window.atob||function(e){for(var t=function(e){for(var t={},o=0,n=e.length;o<n;++o)t[e.charAt(o)]=o;return t}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o=String.fromCharCode,n=-1,r=0,i=[],c=e.replace(/\s|=/g,"");r<c.length;){var a=t[c.charAt(r)];switch(r%4){case 0:break;case 1:i.push(o(n<<2|a>>4));break;case 2:i.push(o((15&n)<<4|a>>2));break;case 3:i.push(o((3&n)<<6|a))}n=a,++r}return i.join("")})(e)},e.prototype.log=function(e,t){var o;void 0===t&&(t=""),null===(o=this.console)||void 0===o||o.log("Websdk.Win",e,t)},e}();t.createAndroid=function(){return new r(n.ClientType.App,n.AppType.Android)};t.createIos=function(){return new r(n.ClientType.App,n.AppType.Ios)};t.createWin=function(e,t,o,n,i,c){return new r(e,t,o,n,i,c)}},24:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2);(window||this).$Win=(0,n.createAndroid)()}})}));